<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ohgiraffers.washplan.reservation.model.dao.ReservationMapper">

    <resultMap id="reservationResultMap" type="com.ohgiraffers.washplan.reservation.model.dto.ReservationDTO">
        <result column="MACHINE_NO" property="machineNo"/>
    </resultMap>

<select id="findMachineNo" resultMap="reservationResultMap">
    SELECT MACHINE_NO
    FROM TBL_MACHINE
    WHERE MACHINE_NO = 101
</select>

    <insert id="insertReservation" parameterType="com.ohgiraffers.washplan.reservation.model.dto.ReservationDTO">
        INSERT INTO TBL_RESERVATION(
            USER_NO, MACHINE_NO, RESERVE_DATE, START_TIME, END_TIME, RESERVE_OPTION, RESERVE_PRICE
        )
        VALUES (
            #{userNo}, #{machineNo}, #{reserveDate}, #{startTime}, #{endTime}, #{reserveOption}, #{reservePrice}
        )


    </insert>

    <select id="findReservations" resultType="map">
        SELECT RESERVE_DATE, START_TIME, END_TIME
        FROM TBL_RESERVATION
        WHERE MACHINE_NO = #{machineNo}
    </select>
</mapper>